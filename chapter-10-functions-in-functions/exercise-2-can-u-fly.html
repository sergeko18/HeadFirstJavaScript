<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>I believe I can fly! </title>
</head>
<body>
<script>
    let passengers = [
        {name: "Jane Doloop", paid: true, ticket: "coach"},
        {name: "Dr. Evel", paid: true, ticket: "firstclass"},
        {name: "Sue Property", paid: false, ticket: "firstclass"},
        {name: "John Funcall", paid: true, ticket: "upper-coach"}
    ];


    function processPassengers(passengers, testFunction) {
        for (let i = 0; i < passengers.length; i++) {

            if (testFunction(passengers[i])) {
                return false;
            }
        }
        return true;

    }


    function checkNoFlyList(passenger) {
        return (passenger !== "Dr. Evel");
    }

    function checkPayOrNot(passenger) {
        return (passenger.paid)

    }

    function printPassenger(passenger) {
        return console.log(passenger.name)

    }

    let allCanFly = processPassengers(passengers, checkNoFlyList);
    if (allCanFly) {
        console.log("All passengers can fly!")
    } else {
        console.log("We can not fly, because Dr. Evel on the board")
    }

    let allPaid = processPassengers(passengers, checkPayOrNot);
    if (allPaid) {
        console.log("Everyone passengers paid for fly!");
    } else {
        console.log("Someone did not pay for fly!")
    }

    processPassengers(passengers, printPassenger);

    function createDrinkOrder(passenger) {
        let orderFunction;
        if (passenger.ticket === "coach") {
            orderFunction = function () {
                console.log("Do u wanna drink a cap of water or cola?")
            }

        } else if (passenger.ticket === "upper-coach") {
            orderFunction = function () {
                console.log("What do u wanna drink, lemonade or wine?")
            }

        } else if (passenger.ticket === "firstclass") {
            orderFunction = function () {
                console.log("Would you like wine or cocktail?")

            }
        }
        return orderFunction;
    }

    function createDinnerOrder(passenger) {
        let orderFunction;
        if (passenger.ticket === "coach") {
            orderFunction = function () {
                console.log("Do u wanna eat the nuts or crackers")
            }

        } else if (passenger.ticket === "upper-coach") {
            orderFunction = function () {
                console.log("Do u wanna eat the cheese or something else?")
            }

        } else if (passenger.ticket === "firstclass") {
            orderFunction = function () {
                console.log("Would you like to eat, the pasta or chicken?")

            }
        }
        return orderFunction;
    }

    function serveCustomer(passenger) {
        let getDrinkOrderFunction = createDrinkOrder(passenger);
        let getDinnerOrderFunction = createDinnerOrder(passenger);
        getDrinkOrderFunction();

        // Предложить обед
        getDinnerOrderFunction();


        /*getDrinkOrderFunction();
        getDrinkOrderFunction();
        // Забрать мусор
        getDrinkOrderFunction();*/
    }

    function servePassengers(passengers) {
        for (let i = 0; i < passengers.length; i++) {
            serveCustomer(passengers[i])
        }

    }

    servePassengers(passengers);


</script>

</body>
</html>